!function(a,b){if("function"==typeof define&&define.amd)define(["underscore"],b);else if("undefined"!=typeof exports){var c=require("underscore");module.exports=b(c)}else a.SimpleSegmentAggregation=b(a._)}(this,function(a){"use strict";var b={aggregate:function(b,c,d){c=c||"weeks",d=d||{},a.defaults(d,{idAttribute:"id"});var e=[];if(!b||!b.length)return e;var f,g,h,i,j,k,l=0;return a.each(b,function(b,c){g=a.pluck(b.events,d.idAttribute),k=!1,c&&(i=g.length===f.length,h=a.intersection(g,f),j=h.length===g.length,i&&j?e[l].duration++:(l++,h.length&&(e[l-1].continuesForward=!0,k=!0))),e[l]||(e[l]={events:a.clone(b.events),start:+b.timestamp,duration:1,continuesForward:!1,continuesBackward:k}),f=g}),e}};return b});
//# sourceMappingURL=simple-segment-aggregation.min.js.map